{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\ninterface VimonialProps {\n  addReview?: string,\n  slideGap?: number,\n  autoplay?: boolean,\n  popup?:boolean,\n  displayQuotes?:boolean,\n  displayCard?:boolean,\n  displayDiscount?:boolean,\n  width?:number,\n  widthMobile?:number,\n  shadowSize?:number,\n  colorPlayButton?:string,\n  colorPlayButtonInner?:string,\n  orderBy?:string,\n  borderSize?:number,\n  borderColor?:string,\n  loadBackgroundColor?:string,\n  alignItems?:string,\n  overflow?:string,\n  shopUrl?:string,\n  buyNowText?:string,\n  campaignId?:string,\n  shopId:string,\n  productId?:string\n}\n\nconst removeScript = (scriptToremove : string) => {\n  let allsuspects = document.getElementsByTagName(\"script\");\n  for (let i = allsuspects.length; i >= 0; i--) {\n    if (allsuspects[i] && allsuspects[i].getAttribute(\"src\") !== null\n      && allsuspects[i]?.getAttribute(\"src\")?.indexOf(`${scriptToremove}`) !== -1) {\n      allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n    }\n  }\n}\n\nconst appendScript = (scriptToAppend: string) => {\n  const script = document.createElement(\"script\");\n  script.src = scriptToAppend;\n  script.async = true;\n  document.body.appendChild(script);\n}\n\nconst appendStyle = (styleToAppend: string) => {\n  const link = document.createElement(\"link\");\n  link.href = styleToAppend;\n  link.rel = \"stylesheet\";\n  link.type = \"text/css\"\n  document.body.appendChild(link);\n}\nconst removeStyle = (scriptToremove: string) => {\n  let allsuspects = document.getElementsByTagName(\"link\");\n  for (let i = allsuspects.length; i >= 0; i--) {\n    if (allsuspects[i] && allsuspects[i].getAttribute(\"href\") !== null\n      && allsuspects[i]?.getAttribute(\"href\")?.indexOf(`${scriptToremove}`) !== -1) {\n      allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n    }\n  }\n}\n\n\n\nexport class VimonialSlider extends React.Component<VimonialProps> {\n  constructor(props: VimonialProps) {\n    super(props)\n  }\n\n  componentDidMount() {\n    if(!window[\"vimonialReactInit\"]){\n      appendStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\");\n      appendScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\");\n      window[\"vimonialReactInit\"] = 1\n    }else{\n      window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] + 1\n    }\n  }\n  \n  componentWillUnmount() {\n    if(window[\"vimonialReactInit\"] && window[\"vimonialReactInit\"] == 1){\n      removeScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\")\n      removeStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\")\n    }else if(window[\"vimonialReactInit\"]){\n      window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] - 1\n    }\n  }\n\n  render() {\n    return <div\n      id=\"vimonial-carousel\"\n      data-add-review={this.props.addReview || false}\n      data-slide-gap={this.props.slideGap || 10}\n      data-autoplay={this.props.autoplay || true}\n      data-popup={this.props.popup || false}\n      data-display-quote={this.props.displayQuotes || false}\n      data-display-card={this.props.displayCard || true}\n      data-display-discount={this.props.displayDiscount || true}\n      data-width={this.props.width || 200}\n      data-width-mobile={this.props.widthMobile || 150}\n      data-shadow-size={this.props.shadowSize || 10}\n      data-color-play-button={this.props.colorPlayButton || \"#000\"}\n      data-color-play-button-inner={this.props.colorPlayButtonInner || \"#FFF\"}\n      data-order-by={this.props.orderBy || \"date_desc\"}\n      data-border-size={this.props.borderSize || 0}\n      data-border-color={this.props.borderColor || \"#000\"}\n      data-load-background-color={this.props.loadBackgroundColor || \"transparent\"}\n      data-align-items={this.props.alignItems || \"center\"}\n      data-overflow={this.props.overflow || \"false\"}\n      data-shop-url={this.props.shopUrl || \"\"}\n      data-buy-now-text={this.props.buyNowText || \"Add to cart\"}\n      data-campaign-id={this.props.campaignId || \"\"}\n      data-shop-id={this.props.shopId || \"\"}\n      data-product-id={this.props.productId || \"\"}></div>\n  }\n}\n\n\n\n"],"names":["removeScript","scriptToremove","allsuspects","document","getElementsByTagName","i","length","_allsuspects$i","_allsuspects$i$getAtt","getAttribute","indexOf","_allsuspects$i2","_allsuspects$i2$paren","parentNode","removeChild","appendScript","scriptToAppend","script","createElement","src","async","body","appendChild","appendStyle","styleToAppend","link","href","rel","type","removeStyle","_allsuspects$i3","_allsuspects$i3$getAt","_allsuspects$i4","_allsuspects$i4$paren","VimonialSlider","_React$Component","_inheritsLoose","props","call","_proto","prototype","componentDidMount","window","componentWillUnmount","render","React","id","addReview","slideGap","autoplay","popup","displayQuotes","displayCard","displayDiscount","width","widthMobile","shadowSize","colorPlayButton","colorPlayButtonInner","orderBy","borderSize","borderColor","loadBackgroundColor","alignItems","overflow","shopUrl","buyNowText","campaignId","shopId","productId"],"mappings":";;;;;;;;;;;;;;;AA4BA,IAAMA,YAAY,GAAG,SAAfA,YAAYA,CAAIC,cAAuB;EAC3C,IAAIC,WAAW,GAAGC,QAAQ,CAACC,oBAAoB,CAAC,QAAQ,CAAC;EACzD,KAAK,IAAIC,CAAC,GAAGH,WAAW,CAACI,MAAM,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IAAA,IAAAE,cAAA,EAAAC,qBAAA;IAC5C,IAAIN,WAAW,CAACG,CAAC,CAAC,IAAIH,WAAW,CAACG,CAAC,CAAC,CAACI,YAAY,CAAC,KAAK,CAAC,KAAK,IAAI,IAC5D,EAAAF,cAAA,GAAAL,WAAW,CAACG,CAAC,CAAC,cAAAE,cAAA,wBAAAC,qBAAA,GAAdD,cAAA,CAAgBE,YAAY,CAAC,KAAK,CAAC,cAAAD,qBAAA,uBAAnCA,qBAAA,CAAqCE,OAAO,MAAIT,cAAc,CAAG,MAAK,CAAC,CAAC,EAAE;MAAA,IAAAU,eAAA,EAAAC,qBAAA;MAC7E,CAAAD,eAAA,GAAAT,WAAW,CAACG,CAAC,CAAC,cAAAM,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBE,UAAU,cAAAD,qBAAA,uBAA1BA,qBAAA,CAA4BE,WAAW,CAACZ,WAAW,CAACG,CAAC,CAAC,CAAC;;;AAG7D,CAAC;AAED,IAAMU,YAAY,GAAG,SAAfA,YAAYA,CAAIC,cAAsB;EAC1C,IAAMC,MAAM,GAAGd,QAAQ,CAACe,aAAa,CAAC,QAAQ,CAAC;EAC/CD,MAAM,CAACE,GAAG,GAAGH,cAAc;EAC3BC,MAAM,CAACG,KAAK,GAAG,IAAI;EACnBjB,QAAQ,CAACkB,IAAI,CAACC,WAAW,CAACL,MAAM,CAAC;AACnC,CAAC;AAED,IAAMM,WAAW,GAAG,SAAdA,WAAWA,CAAIC,aAAqB;EACxC,IAAMC,IAAI,GAAGtB,QAAQ,CAACe,aAAa,CAAC,MAAM,CAAC;EAC3CO,IAAI,CAACC,IAAI,GAAGF,aAAa;EACzBC,IAAI,CAACE,GAAG,GAAG,YAAY;EACvBF,IAAI,CAACG,IAAI,GAAG,UAAU;EACtBzB,QAAQ,CAACkB,IAAI,CAACC,WAAW,CAACG,IAAI,CAAC;AACjC,CAAC;AACD,IAAMI,WAAW,GAAG,SAAdA,WAAWA,CAAI5B,cAAsB;EACzC,IAAIC,WAAW,GAAGC,QAAQ,CAACC,oBAAoB,CAAC,MAAM,CAAC;EACvD,KAAK,IAAIC,CAAC,GAAGH,WAAW,CAACI,MAAM,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IAAA,IAAAyB,eAAA,EAAAC,qBAAA;IAC5C,IAAI7B,WAAW,CAACG,CAAC,CAAC,IAAIH,WAAW,CAACG,CAAC,CAAC,CAACI,YAAY,CAAC,MAAM,CAAC,KAAK,IAAI,IAC7D,EAAAqB,eAAA,GAAA5B,WAAW,CAACG,CAAC,CAAC,cAAAyB,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBrB,YAAY,CAAC,MAAM,CAAC,cAAAsB,qBAAA,uBAApCA,qBAAA,CAAsCrB,OAAO,MAAIT,cAAc,CAAG,MAAK,CAAC,CAAC,EAAE;MAAA,IAAA+B,eAAA,EAAAC,qBAAA;MAC9E,CAAAD,eAAA,GAAA9B,WAAW,CAACG,CAAC,CAAC,cAAA2B,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBnB,UAAU,cAAAoB,qBAAA,uBAA1BA,qBAAA,CAA4BnB,WAAW,CAACZ,WAAW,CAACG,CAAC,CAAC,CAAC;;;AAG7D,CAAC;IAIY6B,cAAe,0BAAAC,gBAAA;EAAAC,cAAA,CAAAF,cAAA,EAAAC,gBAAA;EAC1B,SAAAD,eAAYG,KAAoB;WAC9BF,gBAAA,CAAAG,IAAA,OAAMD,KAAK,CAAC;;EACb,IAAAE,MAAA,GAAAL,cAAA,CAAAM,SAAA;EAAAD,MAAA,CAEDE,iBAAiB,GAAjB,SAAAA;IACE,IAAG,CAACC,MAAM,CAAC,mBAAmB,CAAC,EAAC;MAC9BnB,WAAW,CAAC,0DAA0D,CAAC;MACvER,YAAY,CAAC,yDAAyD,CAAC;MACvE2B,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC;KAChC,MAAI;MACHA,MAAM,CAAC,mBAAmB,CAAC,GAAGA,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC;;GAEhE;EAAAH,MAAA,CAEDI,oBAAoB,GAApB,SAAAA;IACE,IAAGD,MAAM,CAAC,mBAAmB,CAAC,IAAIA,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAC;MACjE1C,YAAY,CAAC,yDAAyD,CAAC;MACvE6B,WAAW,CAAC,0DAA0D,CAAC;KACxE,MAAK,IAAGa,MAAM,CAAC,mBAAmB,CAAC,EAAC;MACnCA,MAAM,CAAC,mBAAmB,CAAC,GAAGA,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC;;GAEhE;EAAAH,MAAA,CAEDK,MAAM,GAAN,SAAAA;IACE,OAAOC;MACLC,EAAE,EAAC,mBAAmB;yBACL,IAAI,CAACT,KAAK,CAACU,SAAS,IAAI,KAAK;wBAC9B,IAAI,CAACV,KAAK,CAACW,QAAQ,IAAI,EAAE;uBAC1B,IAAI,CAACX,KAAK,CAACY,QAAQ,IAAI,IAAI;oBAC9B,IAAI,CAACZ,KAAK,CAACa,KAAK,IAAI,KAAK;4BACjB,IAAI,CAACb,KAAK,CAACc,aAAa,IAAI,KAAK;2BAClC,IAAI,CAACd,KAAK,CAACe,WAAW,IAAI,IAAI;+BAC1B,IAAI,CAACf,KAAK,CAACgB,eAAe,IAAI,IAAI;oBAC7C,IAAI,CAAChB,KAAK,CAACiB,KAAK,IAAI,GAAG;2BAChB,IAAI,CAACjB,KAAK,CAACkB,WAAW,IAAI,GAAG;0BAC9B,IAAI,CAAClB,KAAK,CAACmB,UAAU,IAAI,EAAE;gCACrB,IAAI,CAACnB,KAAK,CAACoB,eAAe,IAAI,MAAM;sCAC9B,IAAI,CAACpB,KAAK,CAACqB,oBAAoB,IAAI,MAAM;uBACxD,IAAI,CAACrB,KAAK,CAACsB,OAAO,IAAI,WAAW;0BAC9B,IAAI,CAACtB,KAAK,CAACuB,UAAU,IAAI,CAAC;2BACzB,IAAI,CAACvB,KAAK,CAACwB,WAAW,IAAI,MAAM;oCACvB,IAAI,CAACxB,KAAK,CAACyB,mBAAmB,IAAI,aAAa;0BACzD,IAAI,CAACzB,KAAK,CAAC0B,UAAU,IAAI,QAAQ;uBACpC,IAAI,CAAC1B,KAAK,CAAC2B,QAAQ,IAAI,OAAO;uBAC9B,IAAI,CAAC3B,KAAK,CAAC4B,OAAO,IAAI,EAAE;2BACpB,IAAI,CAAC5B,KAAK,CAAC6B,UAAU,IAAI,aAAa;0BACvC,IAAI,CAAC7B,KAAK,CAAC8B,UAAU,IAAI,EAAE;sBAC/B,IAAI,CAAC9B,KAAK,CAAC+B,MAAM,IAAI,EAAE;yBACpB,IAAI,CAAC/B,KAAK,CAACgC,SAAS,IAAI;MAAU;GACtD;EAAA,OAAAnC,cAAA;AAAA,EAlDiCW,eAA8B;;;;"}