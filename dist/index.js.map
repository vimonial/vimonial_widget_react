{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\ninterface VimonialProps {\n  addReview?: string\n  slideGap?: number\n  autoplay?: boolean\n  popup?: boolean\n  displayQuotes?: boolean\n  displayCard?: boolean\n  displayDiscount?: boolean\n  width?: number\n  widthMobile?: number\n  shadowSize?: number\n  colorPlayButton?: string\n  colorPlayButtonInner?: string\n  orderBy?: string\n  borderSize?: number\n  borderColor?: string\n  loadBackgroundColor?: string\n  alignItems?: string\n  overflow?: string\n  shopUrl?: string\n  buyNowText?: string\n  campaignId?: string\n  shopId: string\n  productId?: string\n}\n\n// const removeScript = (scriptToremove : string) => {\n//   let allsuspects = document.getElementsByTagName(\"script\");\n//   for (let i = allsuspects.length; i >= 0; i--) {\n//     if (allsuspects[i] && allsuspects[i].getAttribute(\"src\") !== null\n//       && allsuspects[i]?.getAttribute(\"src\")?.indexOf(`${scriptToremove}`) !== -1) {\n//       allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n//     }\n//   }\n// }\n\nconst appendScript = (scriptToAppend: string) => {\n  const script = document.createElement('script')\n  script.src = scriptToAppend\n  script.async = true\n  script.id = 'vimonial_widget_js'\n  document.body.appendChild(script)\n}\n\nconst appendStyle = (styleToAppend: string) => {\n  const link = document.createElement('link')\n  link.href = styleToAppend\n  link.rel = 'stylesheet'\n  link.type = 'text/css'\n  link.id = 'vimonial_widget_css'\n  document.head.appendChild(link)\n}\n// const removeStyle = (scriptToremove: string) => {\n//   let allsuspects = document.getElementsByTagName(\"link\");\n//   for (let i = allsuspects.length; i >= 0; i--) {\n//     if (allsuspects[i] && allsuspects[i].getAttribute(\"href\") !== null\n//       && allsuspects[i]?.getAttribute(\"href\")?.indexOf(`${scriptToremove}`) !== -1) {\n//       allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n//     }\n//   }\n// }\n\nexport class VimonialSlider extends React.Component<VimonialProps> {\n  constructor(props: VimonialProps) {\n    super(props)\n  }\n\n  componentDidMount() {\n    let vimCSS = document.getElementById('vimonial_widget_css')\n    let vimJS = document.getElementById('vimonial_widget_js')\n\n    if (!vimCSS) {\n      appendStyle('https://assets.vimonial.com/widget/vimonial-carousel.css')\n    }\n    if (!vimJS) {\n      appendScript('https://assets.vimonial.com/widget/vimonial-carousel.js')\n    }else{\n      window.reInitVimonial()\n    }\n\n    // if(\"vimonialReactInit\" in window){\n    //   window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] + 1\n\n    //   removeScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\")\n    //   removeStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\")\n\n    //   appendStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\");\n    //   appendScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\");\n    //   window[\"vimonialReactInit\"] = 1\n\n    // }else{\n    //   appendStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\");\n    //   appendScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\");\n    //   window[\"vimonialReactInit\"] = 1\n    // }\n    \n  }\n\n  // componentWillUnmount() {\n  //   if(\"vimonialReactInit\" in window && window[\"vimonialReactInit\"] == 1){\n  //     removeScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\")\n  //     removeStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\")\n  //   }else if(\"vimonialReactInit\" in window){\n  //     window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] - 1\n  //   }\n  // }\n\n  render() {\n    return (\n      <div\n        id='vimonial-carousel'\n        data-add-review={this.props.addReview || false}\n        data-slide-gap={this.props.slideGap || 10}\n        data-autoplay={this.props.autoplay || true}\n        data-popup={this.props.popup || false}\n        data-display-quote={this.props.displayQuotes || false}\n        data-display-card={this.props.displayCard || true}\n        data-display-discount={this.props.displayDiscount || true}\n        data-width={this.props.width || 200}\n        data-width-mobile={this.props.widthMobile || 150}\n        data-shadow-size={this.props.shadowSize || 10}\n        data-color-play-button={this.props.colorPlayButton || '#000'}\n        data-color-play-button-inner={this.props.colorPlayButtonInner || '#FFF'}\n        data-order-by={this.props.orderBy || 'date_desc'}\n        data-border-size={this.props.borderSize || 0}\n        data-border-color={this.props.borderColor || '#000'}\n        data-load-background-color={\n          this.props.loadBackgroundColor || 'transparent'\n        }\n        data-align-items={this.props.alignItems || 'center'}\n        data-overflow={this.props.overflow || 'false'}\n        data-shop-url={this.props.shopUrl || ''}\n        data-buy-now-text={this.props.buyNowText || 'Add to cart'}\n        data-campaign-id={this.props.campaignId || ''}\n        data-shop-id={this.props.shopId || ''}\n        data-product-id={this.props.productId || ''}\n      ></div>\n    )\n  }\n}\n"],"names":["appendScript","scriptToAppend","script","document","createElement","src","async","id","body","appendChild","appendStyle","styleToAppend","link","href","rel","type","head","VimonialSlider","_React$Component","_inheritsLoose","props","call","_proto","prototype","componentDidMount","vimCSS","getElementById","vimJS","window","reInitVimonial","render","React","addReview","slideGap","autoplay","popup","displayQuotes","displayCard","displayDiscount","width","widthMobile","shadowSize","colorPlayButton","colorPlayButtonInner","orderBy","borderSize","borderColor","loadBackgroundColor","alignItems","overflow","shopUrl","buyNowText","campaignId","shopId","productId"],"mappings":"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"}