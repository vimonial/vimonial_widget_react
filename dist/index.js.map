{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\ninterface VimonialProps {\n  addReview?: string\n  slideGap?: number\n  autoplay?: boolean\n  popup?: boolean\n  displayQuotes?: boolean\n  displayCard?: boolean\n  displayDiscount?: boolean\n  width?: number\n  widthMobile?: number\n  shadowSize?: number\n  colorPlayButton?: string\n  colorPlayButtonInner?: string\n  orderBy?: string\n  borderSize?: number\n  borderColor?: string\n  loadBackgroundColor?: string\n  alignItems?: string\n  overflow?: string\n  shopUrl?: string\n  buyNowText?: string\n  campaignId?: string\n  shopId: string\n  productId?: string\n  showNames?: boolean\n  hideProductTitle?: boolean\n  prevNextButtons?: boolean\n}\n\n// const removeScript = (scriptToremove : string) => {\n//   let allsuspects = document.getElementsByTagName(\"script\");\n//   for (let i = allsuspects.length; i >= 0; i--) {\n//     if (allsuspects[i] && allsuspects[i].getAttribute(\"src\") !== null\n//       && allsuspects[i]?.getAttribute(\"src\")?.indexOf(`${scriptToremove}`) !== -1) {\n//       allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n//     }\n//   }\n// }\n\nconst appendScript = (scriptToAppend: string) => {\n  const script = document.createElement('script')\n  script.src = scriptToAppend\n  script.async = true\n  script.id = 'vimonial_widget_js'\n  document.body.appendChild(script)\n}\n\nconst appendStyle = (styleToAppend: string) => {\n  const link = document.createElement('link')\n  link.href = styleToAppend\n  link.rel = 'stylesheet'\n  link.type = 'text/css'\n  link.id = 'vimonial_widget_css'\n  document.head.appendChild(link)\n}\n// const removeStyle = (scriptToremove: string) => {\n//   let allsuspects = document.getElementsByTagName(\"link\");\n//   for (let i = allsuspects.length; i >= 0; i--) {\n//     if (allsuspects[i] && allsuspects[i].getAttribute(\"href\") !== null\n//       && allsuspects[i]?.getAttribute(\"href\")?.indexOf(`${scriptToremove}`) !== -1) {\n//       allsuspects[i]?.parentNode?.removeChild(allsuspects[i])\n//     }\n//   }\n// }\n\nexport class VimonialSlider extends React.Component<VimonialProps> {\n  constructor(props: VimonialProps) {\n    super(props)\n  }\n\n  componentDidMount() {\n    let vimCSS = document.getElementById('vimonial_widget_css')\n    let vimJS = document.getElementById('vimonial_widget_js')\n\n    if (!vimCSS) {\n      appendStyle('https://assets.vimonial.com/widget/vimonial-carousel.css')\n    }\n    if (!vimJS) {\n      appendScript('https://assets.vimonial.com/widget/vimonial-carousel.js')\n\n      // appendScript('/vimonial-carousel.js')\n    } else {\n      if ('reInitVimonial' in window) {\n        window.reInitVimonial()\n      }\n    }\n\n    // if(\"vimonialReactInit\" in window){\n    //   window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] + 1\n\n    //   removeScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\")\n    //   removeStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\")\n\n    //   appendStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\");\n    //   appendScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\");\n    //   window[\"vimonialReactInit\"] = 1\n\n    // }else{\n    //   appendStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\");\n    //   appendScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\");\n    //   window[\"vimonialReactInit\"] = 1\n    // }\n  }\n\n  // componentWillUnmount() {\n  //   if(\"vimonialReactInit\" in window && window[\"vimonialReactInit\"] == 1){\n  //     removeScript(\"https://assets.vimonial.com/widget/vimonial-carousel.js\")\n  //     removeStyle(\"https://assets.vimonial.com/widget/vimonial-carousel.css\")\n  //   }else if(\"vimonialReactInit\" in window){\n  //     window[\"vimonialReactInit\"] = window[\"vimonialReactInit\"] - 1\n  //   }\n  // }\n\n  render() {\n    // console.log(this.props)\n    return (\n      <div\n        id='vimonial-carousel'\n        data-add-review={\n          typeof this.props.addReview === 'undefined'\n            ? false\n            : this.props.addReview\n        }\n        data-slide-gap={this.props.slideGap || 10}\n        data-autoplay={typeof this.props.autoplay === 'undefined'? true: this.props.autoplay}\n        data-popup={typeof this.props.popup=== 'undefined'? false: this.props.popup}\n        data-display-quote={typeof this.props.displayQuotes=== 'undefined'? false: this.props.displayQuotes}\n        data-display-card={typeof this.props.displayCard === 'undefined'? true:this.props.displayCard }\n        data-display-discount={typeof this.props.displayDiscount === 'undefined'? true: this.props.displayDiscount }\n        data-width={this.props.width || 200}\n        data-width-mobile={this.props.widthMobile || 150}\n        data-shadow-size={this.props.shadowSize || 10}\n        data-color-play-button={this.props.colorPlayButton || '#000'}\n        data-color-play-button-inner={this.props.colorPlayButtonInner || '#FFF'}\n        data-order-by={this.props.orderBy || 'date_desc'}\n        data-border-size={this.props.borderSize || 0}\n        data-border-color={this.props.borderColor || '#000'}\n        data-load-background-color={\n          this.props.loadBackgroundColor || 'transparent'\n        }\n        data-align-items={this.props.alignItems || 'center'}\n        data-overflow={typeof this.props.overflow === 'undefined'? false: this.props.overflow}\n        data-shop-url={this.props.shopUrl || ''}\n        data-buy-now-text={this.props.buyNowText || 'Add to cart'}\n        \n        data-show-names={typeof this.props.showNames === 'undefined'? false: this.props.showNames}\n        data-hide-product-title={typeof this.props.hideProductTitle === 'undefined' ? false: this.props.hideProductTitle}\n\n        data-campaign-id={this.props.campaignId || ''}\n        data-shop-id={this.props.shopId || ''}\n        data-product-id={this.props.productId || ''}\n        data-prev-next-buttons={typeof this.props.prevNextButtons === 'undefined' ? false : this.props.prevNextButtons }\n        \n      ></div>\n    )\n  }\n}\n\n"],"names":["appendScript","scriptToAppend","script","document","createElement","src","async","id","body","appendChild","appendStyle","styleToAppend","link","href","rel","type","head","VimonialSlider","_React$Component","_inheritsLoose","props","call","_proto","prototype","componentDidMount","vimCSS","getElementById","vimJS","window","reInitVimonial","render","React","addReview","slideGap","autoplay","popup","displayQuotes","displayCard","displayDiscount","width","widthMobile","shadowSize","colorPlayButton","colorPlayButtonInner","orderBy","borderSize","borderColor","loadBackgroundColor","alignItems","overflow","shopUrl","buyNowText","showNames","hideProductTitle","campaignId","shopId","productId","prevNextButtons"],"mappings":";;;;;;;;;;;;;;;AAyCA,IAAMA,YAAY,GAAG,SAAfA,YAAYA,CAAIC,cAAsB;EAC1C,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC/CF,MAAM,CAACG,GAAG,GAAGJ,cAAc;EAC3BC,MAAM,CAACI,KAAK,GAAG,IAAI;EACnBJ,MAAM,CAACK,EAAE,GAAG,oBAAoB;EAChCJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,MAAM,CAAC;AACnC,CAAC;AAED,IAAMQ,WAAW,GAAG,SAAdA,WAAWA,CAAIC,aAAqB;EACxC,IAAMC,IAAI,GAAGT,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC3CQ,IAAI,CAACC,IAAI,GAAGF,aAAa;EACzBC,IAAI,CAACE,GAAG,GAAG,YAAY;EACvBF,IAAI,CAACG,IAAI,GAAG,UAAU;EACtBH,IAAI,CAACL,EAAE,GAAG,qBAAqB;EAC/BJ,QAAQ,CAACa,IAAI,CAACP,WAAW,CAACG,IAAI,CAAC;AACjC,CAAC;IAWYK,cAAe,0BAAAC,gBAAA;EAAAC,cAAA,CAAAF,cAAA,EAAAC,gBAAA;EAC1B,SAAAD,eAAYG,KAAoB;WAC9BF,gBAAA,CAAAG,IAAA,OAAMD,KAAK,CAAC;;EACb,IAAAE,MAAA,GAAAL,cAAA,CAAAM,SAAA;EAAAD,MAAA,CAEDE,iBAAiB,GAAjB,SAAAA;IACE,IAAIC,MAAM,GAAGtB,QAAQ,CAACuB,cAAc,CAAC,qBAAqB,CAAC;IAC3D,IAAIC,KAAK,GAAGxB,QAAQ,CAACuB,cAAc,CAAC,oBAAoB,CAAC;IAEzD,IAAI,CAACD,MAAM,EAAE;MACXf,WAAW,CAAC,0DAA0D,CAAC;;IAEzE,IAAI,CAACiB,KAAK,EAAE;MACV3B,YAAY,CAAC,yDAAyD,CAAC;KAGxE,MAAM;MACL,IAAI,gBAAgB,IAAI4B,MAAM,EAAE;QAC9BA,MAAM,CAACC,cAAc,EAAE;;;GAmB5B;EAAAP,MAAA,CAWDQ,MAAM,GAAN,SAAAA;IAEE,OACEC;MACExB,EAAE,EAAC,mBAAmB;yBAEpB,OAAO,IAAI,CAACa,KAAK,CAACY,SAAS,KAAK,WAAW,GACvC,KAAK,GACL,IAAI,CAACZ,KAAK,CAACY,SAAS;wBAEV,IAAI,CAACZ,KAAK,CAACa,QAAQ,IAAI,EAAE;uBAC1B,OAAO,IAAI,CAACb,KAAK,CAACc,QAAQ,KAAK,WAAW,GAAE,IAAI,GAAE,IAAI,CAACd,KAAK,CAACc,QAAQ;oBACxE,OAAO,IAAI,CAACd,KAAK,CAACe,KAAK,KAAI,WAAW,GAAE,KAAK,GAAE,IAAI,CAACf,KAAK,CAACe,KAAK;4BACvD,OAAO,IAAI,CAACf,KAAK,CAACgB,aAAa,KAAI,WAAW,GAAE,KAAK,GAAE,IAAI,CAAChB,KAAK,CAACgB,aAAa;2BAChF,OAAO,IAAI,CAAChB,KAAK,CAACiB,WAAW,KAAK,WAAW,GAAE,IAAI,GAAC,IAAI,CAACjB,KAAK,CAACiB,WAAW;+BACtE,OAAO,IAAI,CAACjB,KAAK,CAACkB,eAAe,KAAK,WAAW,GAAE,IAAI,GAAE,IAAI,CAAClB,KAAK,CAACkB,eAAe;oBAC9F,IAAI,CAAClB,KAAK,CAACmB,KAAK,IAAI,GAAG;2BAChB,IAAI,CAACnB,KAAK,CAACoB,WAAW,IAAI,GAAG;0BAC9B,IAAI,CAACpB,KAAK,CAACqB,UAAU,IAAI,EAAE;gCACrB,IAAI,CAACrB,KAAK,CAACsB,eAAe,IAAI,MAAM;sCAC9B,IAAI,CAACtB,KAAK,CAACuB,oBAAoB,IAAI,MAAM;uBACxD,IAAI,CAACvB,KAAK,CAACwB,OAAO,IAAI,WAAW;0BAC9B,IAAI,CAACxB,KAAK,CAACyB,UAAU,IAAI,CAAC;2BACzB,IAAI,CAACzB,KAAK,CAAC0B,WAAW,IAAI,MAAM;oCAEjD,IAAI,CAAC1B,KAAK,CAAC2B,mBAAmB,IAAI,aAAa;0BAE/B,IAAI,CAAC3B,KAAK,CAAC4B,UAAU,IAAI,QAAQ;uBACpC,OAAO,IAAI,CAAC5B,KAAK,CAAC6B,QAAQ,KAAK,WAAW,GAAE,KAAK,GAAE,IAAI,CAAC7B,KAAK,CAAC6B,QAAQ;uBACtE,IAAI,CAAC7B,KAAK,CAAC8B,OAAO,IAAI,EAAE;2BACpB,IAAI,CAAC9B,KAAK,CAAC+B,UAAU,IAAI,aAAa;yBAExC,OAAO,IAAI,CAAC/B,KAAK,CAACgC,SAAS,KAAK,WAAW,GAAE,KAAK,GAAE,IAAI,CAAChC,KAAK,CAACgC,SAAS;iCAChE,OAAO,IAAI,CAAChC,KAAK,CAACiC,gBAAgB,KAAK,WAAW,GAAG,KAAK,GAAE,IAAI,CAACjC,KAAK,CAACiC,gBAAgB;0BAE9F,IAAI,CAACjC,KAAK,CAACkC,UAAU,IAAI,EAAE;sBAC/B,IAAI,CAAClC,KAAK,CAACmC,MAAM,IAAI,EAAE;yBACpB,IAAI,CAACnC,KAAK,CAACoC,SAAS,IAAI,EAAE;gCACnB,OAAO,IAAI,CAACpC,KAAK,CAACqC,eAAe,KAAK,WAAW,GAAG,KAAK,GAAG,IAAI,CAACrC,KAAK,CAACqC;MAE1F;GAEV;EAAA,OAAAxC,cAAA;AAAA,EA1FiCc,eAA8B;;;;"}